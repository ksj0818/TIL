## ì»´í¬ë„ŒíŠ¸ ì´ë²¤íŠ¸ ë§Œë“¤ê¸°

- ì´ë²¤íŠ¸ë¥¼ ë§Œë“œëŠ” ìƒì‚°ìê°€ ë˜ì–´ë³´ì!
- ë§í¬ë¥¼ í´ë¦­í–ˆì„ë•Œ ì´ë²¤íŠ¸ë¥¼ ì„¤ì¹˜í•˜ê³  ì‹¶ë‹¤ë©´ onChangePage={} ì´ë²¤íŠ¸ë¥¼ ì´ìš©í•˜ê¸° (í´ë¦­í–ˆì„ë•Œ ì‹¤í–‰í•˜ê³  ì‹¶ìœ¼ë©´ onClick={})
  ì´ ì´ë²¤íŠ¸ì— í•¨ìˆ˜ë¥¼ ì„¤ì¹˜í•´ ë†“ìœ¼ë©´ ë§í¬ê°€ í´ë¦­ë˜ì—ˆì„ë•Œ ì„¤ì¹˜í•œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.
- onChangePage ì´ë²¤íŠ¸ê°€ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¦­(í˜ì´ì§€ê°€ ë³€ê²½)í–ˆì„ë•Œ ì´ë²¤íŠ¸ì— ì‚¬ìš©ìê°€ ì„¤ì¹˜í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë ¤ê³  ë§Œë“  ê²ƒì„.
- onChangePage{function () {}.bind(this)} í•¨ìˆ˜ëŠ” ì–´ë–¤ í˜•íƒœë¡œ ì „ë‹¬ë˜ì–´ì§ˆê¹Œ?
  - ğŸ™Œ props!



App.jsì—ì„œ Subject ì»´í¬ë„ŒíŠ¸ì˜ onChangePageë¡œ í•¨ìˆ˜ê°€ ì „ë‹¬ë¨ ê·¸ í•¨ìˆ˜ë¥¼ Subject.jsì—ì„œ í˜¸ì¶œí•˜ê¸°

``` react
<Subject
          title={this.state.subject.title}
          sub={this.state.subject.sub}
          onChangePage={function () {	
            this.setState({
              mode: "welcome",
            });
          }.bind(this)}
        ></Subject>
```

Subject.js

``` react
class Subject extends Component {
  render() {
    return (
      <header>
        <h1>
          <a
            href="/"
            onClick={function (e) {	
              e.preventDefault();
              this.props.onChangePage(); // App.jsì—ì„œ ì „ë‹¬í•œ í•¨ìˆ˜ í˜¸ì¶œ 
            }.bind(this)}
          >
            {this.props.title}
          </a>
        </h1>
        {this.props.sub}
      </header>
    );
  }
}
```



### í´ë¦­í•œ ì»¨í…ì¸ ê°€ ë³¸ë¬¸ì— ì¶œë ¥ë˜ëŠ”ë²•

App.js

``` react
let _title,
      _desc = null;

    if (this.state.mode === "welcome") {
      _title = this.state.welcome.title;
      _desc = this.state.welcome.desc;
    } else if (this.state.mode === "read") {
      let i = 0;

	 // stateì˜ ì»¨í…ì¸  ê¸¸ì´ë³´ë‹¤ ì‘ì„ë•Œ true
      while (i < this.state.contents.length) {
        // ì»¨í…ì¸ ì˜ ë°ì´í„°ë¥¼ ì¸ë±ìŠ¤ë³„ë¡œ dataì— ë„£ê¸°
        let data = this.state.contents[i];
        // ì»¨í…ì¸ idì™€ ì…€ë ‰íŠ¸idê°€ ê°™ë‹¤ë©´ ë³¸ë¬¸ ë‚´ìš© ì¶œë ¥
        if (data.id === this.state.selected_content_id) {
          _title = data.title;
          _desc = data.desc;
          break;
        }
        i += 1;
      }
    }

 {/*ë°ì´í„°ê°€ ë°”ë€Œì—ˆë‹¤ê³  TOCì˜ ë¡œì§ì„ ë°”ê¿€ í•„ìš”ê°€ ì—†ë‹¤. */}
        <TOC
		// ì¸ìê°’ìœ¼ë¡œ id(e.target.dataset.id) ë°›ìŒ
          onChangePage={function (id) {
        	// ì¸ìê°’ íƒ€ì…ì´ ìŠ¤íŠ¸ë§ì´ê¸° ë•Œë¬¸ì— ë„˜ë²„ë¡œ í˜•ë³€í™˜ í•´ì£¼ê¸°
            this.setState({ mode: "read", selected_content_id: Number(id) });
          }.bind(this)}
          data={this.state.contents}
        ></TOC>
        <Content title={_title} sub={_desc}></Content>
      </div>
```

TOC.js

``` react
<a
            href={"/content/" + data[i].id}
            data-id={data[i].id}
            onClick={function (e) {
              /**
               * ì´ë²¤íŠ¸ ê°ì²´ëŠ” íƒ€ê²Ÿì´ë¼ëŠ” ì†ì„±ì´ ì¡´ì¬í•˜ê³  íƒ€ê²Ÿì´ë¼ëŠ” ì†ì„±ì€ ê·¸ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ íƒœê·¸ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
               * ê·¸ íƒœê·¸ê°€ ê°–ê³  ìˆëŠ” data-id(ì ‘ë‘ì‚¬) ë¼ëŠ” ì†ì„±ì€ datasetë¼ëŠ” íŠ¹ìˆ˜í•œ ê²ƒì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆìŒ.
               */
              e.preventDefault();
              // App.jsì— ìˆëŠ” onChangePageí•¨ìˆ˜ ì‹¤í–‰, ì¸ìë¡œ í´ë¦­í•œ í•­ëª©ì— ì•„ì´ë””ê°’ ì£¼ê¸°
              this.props.onChangePage(e.target.dataset.id);
            }.bind(this)}
          >
            {data[i].title}
          </a>
```

