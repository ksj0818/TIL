## SSR과CSR이란?



# 목차

1. SSR, CSR이란 무엇인가? feat.동작원리
2. SSR과 CSR 차이점
3. SSR과 CSR의 장단점



## 1. SSR, CSR이란 무엇인가? feat.동작원리

![image-20211028091542099](C:\Users\DevTeam\AppData\Roaming\Typora\typora-user-images\image-20211028091542099.png)

**많은 웹사이트들은 페이지를 이동할 때마다 서버에 새로운 페이지에 대한 요청을 하는 방식을 택하고 있다. 이 방식이 ==SSR(Server Side Rendering)==이다.**
서버에서 렌더링을 마치고, Data가 결합된 HTML파일을 내려주는 방식이다.
새로운 페이지로 이동할 때마다 서버에 요청하여 페이지를 받아야 하기 때문에,
받아오는 시간동안 깜빡거리는 현상을 마주할 수 있다.
<u>동작원리</u>: **브라우저에 HTML 응답을 렌더링할 준비가 된 서버 보내기** >> **브라우저는 페이지를 지금 볼 수 있도록 렌더링하고 JS를 다운로드** >> **브라우저가 React를 실행** >> **상호 작용 가능한 페이지 생성**



![image-20211028092248910](C:\Users\DevTeam\AppData\Roaming\Typora\typora-user-images\image-20211028092248910.png)



*SPA(Single Page Application) 기법이 대두 되면서 `CSR` 방식이 각광받기 시작했다.
**==CSR(Client Side Rendering)== 방식은 최초 요청시에 HTML을 비롯해 CSS, Javascript 등 각종 리소스를 받아온다.**
이후에는 서버에 데이터만 요청하고, 자바스크립트로 뷰를 컨트롤 한다.
당연히 초기 요청 때 `SSR` 보다 많은 리소스를 요청하기 때문에, 렌더링은 속도는 `SSR`이 더 빠르다.
하지만 이후 다른 페이지로의 이동시에는 `SSR` 보다 빠른 페이지 전환 속도와 <u>더 나은 사용자 경험</u>을 제공한다.
만약 인터넷 속도가 매우 많이 느리다면, 유저는 제대로된 화면을 한참 후에나 만나볼 수 있을 것이다.
일단 처음 받게될 HTML은 빈페이지이기 때문이다.
<u>동작원리</u>: **브라우저에 응답을 보내는 서버** >> **브라우저에서 js 다운로드 **>> **React를 실행** >> **상호 작용 가능한 페이지 생성**

출처: https://velog.io/@ru_bryunak/SPA-%EC%82%AC%EC%9A%A9%EC%97%90%EC%84%9C%EC%9D%98-SSR%EA%B3%BC-CSR



## 2. SSR과 CSR 차이점

`CSR`의 경우 사용자의 행동에 따라 필요한 부분만 다시 읽어 들이기 때문에,
서버 측에서 렌더링하여 전체 페이지를 다시 읽어 들이는 것보다 빠른 반응속도를 기대할 수 있다.
`SSR`을 한다 하더라도 *Ajax 기능을 위해 클라이언트 렌더링 요소가 포함될 수 밖에 없다.
클라이언트 측에서 렌더링을 하게 되면 `SSR`이 따로 필요하지 않기 때문에 일관성 있는 코드를 작성 할 수 있다.
<u>정리</u>: `CSR`은 페이지를 읽어들이는 시간, 자바스크립트를 읽어들이는 시간, 자바스크립트가 화면을 그리는 시간까지 모두 마쳐야 콘텐츠가 사용자에게 보여진다. 초기 구동속도가 느리다. 초기 구동속도를 제외하고는 빠른 반응을 보여준다.
반대로 `SSR`의 경우 서버에서 view를 렌더링하여 가져오기 때문에 view를 보기까지 초기 구동속도가 빠르다.
하지만 새로운 데이터를 불러올 때 page를 서버로부터 다시 받아와야 하기 때문에 시간이 걸리고 화면이 깜박거리는 현상이 발생한다.



## 3. SSR과 CSR의 장단점

`SSR`의 장점
CSR에 비해 다운 받는 파일이 많지 않아 초기 로딩 속도가 빠르기 때문에 사용자가 빨리 컨텐츠를 볼 수 있다.
HTML에 대한 정보가 처음부터 포함되어 있어서 모든 검색엔진에 대한 *SEO(검색 엔진 최적화)가 가능하다.

`SSR`의 단점
매번 페이지를 요청할 때마다 새로고침 되기 때문에 UX가 다소 떨어진다.
페이지를 이동할 때마다 매번 서버에 요청을 하기 때문에 서버의 부하가 커진다.
프로젝트의 복잡도가 올라간다.

`CSL`의 장점
초기 요청을 제외하고는 SSR에 비해 빠른 페이지 전환 속도로 더 나은 UX를 제공한다.
서버에 요청하는 횟수가 적기 때문에 서버 부담이 SSR에 비해 적다.

`CSL`의 단점
최초 로딩 시 모든 리소스들을 받아와야 하기 때문에 초기 로딩 속도가 느리다.
처음에는 HTML이 비어있어 크롤러가 데이터를 수집할 수 없기 때문에 SEO 문제가 발생한다.
쿠키나 localStorage에서 사용자에 대한 정보를 저장해야 하기 때문에 XSS 공격에 취약하다.



*React 환경에서는 CSR의 단점을 극복하기 위해서 React SSR 라이브러리 Next.js를 사용한다.*

출처: https://bbbyung2.tistory.com/65

### 4. Bonus😀!!! Additional Data!

*위 내용 중에서 추가 설명이 있으면 좋을 것 같은 자료들을 준비했다.*

`lendering(렌더링)`
서버로부터 응답 받은 내용을 브라우저 화면에 표시하는 것.

**렌더링의 과정**

1. 로더가 서버로부터 정보들을 불러온다.
2. 파싱을 통해 문서를 DOM 트리로 만든다.
3. DOM 트리가 구축되는 동안 브라우저는 렌더 트리를 구축
4. CSS 설정/레이아웃 위치 지정
5. 렌더링 트리가 그려짐

`SPA(Single Page Application)`
단일 페이지로 구성된 웹 어플리케이션을 말한다.
SPA는 화면이동 시에 필요한 데이터를 HTML으로 전달받지 않고,
필요한 데이터만 서버로부터 JSON으로 전달 받아 동적으로 렌더링한다.
화면 구성에 필요한 모든 HTML을 클라이언트가 갖고 있고,
필요한 데이터만 서버에 요청해서 받기 때문에 기존 어플리케이션에 비해 화면을 구성하는 속도가 빠르다. (새로고침도 할 필요가 없다.)
기존에는 사용자가 다른 페이지로 이동할 때마다 새로운 html을 받아오고,
페이지를 로딩할 때 마다 서버에 리소스를 전달 받아 해석한 뒤 화면에 보여주었다.
요즘은 웹에서 제공되는 정보가 많기 때문에 새로운 화면을 보여 주어야 할 때마다
서버측에서 모든 뷰를 준비한다면 성능상의 문제가 발생할 수 있다. 이러한 방식은 비효율적이다.

`SPA 장점`
하나하나 화면 전체를 렌더링할 필요가 없기 때문에 화면이동이 빠르다.
화면에 필요한 부분의 데이터만 받아서 렌더링 하기 때문에 처리과정이 효율적이다.
==유저의 입장에서 사용하기 편리하다==

`SPA` 단점
처음 화면을 로딩할 때 모든 화면이 미리 준비되어 있어야 하기 때문에 로딩에 시간이 걸린다.
어플리케이션을 구현하는데 보다 시간이 걸리며 복잡하다.

출처: https://velog.io/@josworks27/SPA-%EA%B0%9C%EB%85%90

`Ajax(Asynchronous Javascript And XML)`
자바스크립트를 이용해 서버와 브라우저가 *비동기 방식으로 데이터를 교환할 수 있는 통신 기능.
브라우저가 가지고있는 XMLhttpRequest 객체를 이용해서 전체 페이지를 새로 고치지 않고도
페이지의 일부만을 위한 데이터를 로드하는 기법. 

**비동기** **방식**
웹페이지를 리로드 하지않고 데이터를 불러오는 방식. (프로그램이 멈추지 않고 계속 작동)
**비동기 방식 장점**
페이지 리로드의 경우 전체 리소스를 다시 불러와야하는데,
이미지, 스크립트, 기타 코드등을 모두 재요청할 경우 불필요한 리소스 낭비가 발생하게 되지만
비동기 방식을 이용할 경우 필요한 부분만 불러와 사용할 수 있으므로 매우 큰 장점이 있다.

출처: https://velog.io/@surim014/AJAX%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80

`SEO(Search Engine Optimization)` 
웹 페이지 검색엔진이 자료를 수집하고 순위를 매기는 방식에 맞게 페이지를 구성하여,
검색 결과의 상위에 나올 수 있도록 하는 작업을 말한다.
SPA에서는 클라이언트 단에서 JS로 페이지를 렌더링 한다. 때문에 구글처럼 검색엔진이
자바스크립트 기반(V8)이라면 CSR 방식으로도 SEO 최적화가 가능하다.

출처: https://minsoftk.tistory.com/68 [Minsoftk]

